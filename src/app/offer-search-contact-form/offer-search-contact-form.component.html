<div class="form-block">
  <div class="form-block__label" i18n>Kontaktieren Sie den Anbieter</div>
  <div *ngIf="messageSent" class="notes" i18n>
    Vielen Dank für Ihre Nachricht. Sie wurde an den Anbieter übermittelt, er wird sich direkt mit Ihnen in Verbindung setzen.
  </div>
  <ng-container *ngIf="!messageSent">
    <div class="notes" i18n>
      Die Kontaktdaten des Anbieters sind nicht öffentlich. Nutzen Sie dieses Kontaktformular, um dem Anbieter eine
      Nachricht zu hinterlassen.
    </div>
    <div class="form-block__input-field">
      <input type="text" placeholder="name" i18n-placeholder="@@name" [(ngModel)]="message.senderName"/>
      <span class="input-field-focus"></span>
      <span *ngIf="!message.senderName" class="form-alert" i18n="@@requiredField">
        Pflichtangabe
      </span>
    </div>
    <div class="form-block__input-field">
      <input type="text" placeholder="Institution" i18n-placeholder="@@institution" [(ngModel)]="message.senderInstitution"/>
      <span class="input-field-focus"></span>
      <span *ngIf="!message.senderInstitution" class="form-alert" i18n="@@requiredField">
        Pflichtangabe
      </span>
    </div>
    <div class="form-block__input-field">
      <input type="text" placeholder="Telefonnummer" i18n-placeholder="@@phoneNumber" [(ngModel)]="message.senderPhone"/>
      <span class="input-field-focus"></span>
    </div>
    <div class="form-block__input-field">
      <input type="text" placeholder="E-Mail Adresse" i18n-placeholder="@@emailAddress" [(ngModel)]="message.senderEmail"/>
      <span class="input-field-focus"></span>
      <span *ngIf="!message.senderEmail" class="form-alert" i18n="@@requiredField">
        Pflichtangabe
      </span>
    </div>
    <div class="form-block__input-field">
      <label>
        <span i18n="@@message">Nachricht</span>
      </label>
      <textarea class="message-field" [(ngModel)]="message.message"></textarea>
      <span class="input-field-focus"></span>
      <span *ngIf="!message.message" class="form-alert" i18n="@@requiredField">
        Pflichtangabe
      </span>
    </div>
    <app-re-captcha-wrapper (resolved)="captchaResolved($event)"></app-re-captcha-wrapper>
    <div class="submit-button align-center align-center-text">
      <button class="button" (click)="onSubmit()" [disabled]="!recaptcha || !isValid()" i18n="@@sendMessage">
        Nachricht absenden
      </button>
    </div>
  </ng-container>
</div>
