<div class="form-block">
    <h3 class="form-block__headline" i18n="@@searchResults">Suchergebnisse</h3>
    <p *ngIf="searchResults.length === 0; else elseBlock" i18n="@@noResults">Keine Ergebnisse gefunden</p>
</div>

<ng-template #elseBlock>
    <table *ngIf="type === 'device'" class="need-search__results">
        <thead>
            <tr>
                <th>Gegenstand</th>
                <th>Anzahl</th>
                <th>Materialbezeichnung</th>
                <th>Hersteller</th>
                <th>Anmerkungen</th>
            </tr>
        </thead>

        <tbody *ngFor="let r of searchResults | filterpipe : filter.name : filter.manufacturer : filter.amount.minimum : filter.amount.maximum : filter.notes; let i = index" class="need-search__results-element">
            <tr>
                <td>{{ deviceCategoryToDE[r.resource.category] }}</td>
                <td>{{ r.resource.amount }}</td>
                <td>{{ r.resource.name }}</td>
                <td>{{ r.resource.manufacturer }}</td>
                <td>{{ r.resource.notes }}</td>
            </tr>
            <tr>
                <button
                    class="need-search__results-btn"
                    *ngIf="!showDetails[i]"
                    (click)="toggleShowDetails(i)"
                    i18n="@@showDetails"
                >Details anzeigen</button>
            </tr>
        </tbody>
    </table>

    <table *ngIf="type === 'consumable'" class="need-search__results">
        <thead>
            <tr>
                <th>Gegenstand</th>
                <th>Anzahl</th>
                <th>Materialbezeichnung</th>
                <th>Hersteller</th>
                <th>Anmerkungen</th>
            </tr>
        </thead>

        <tbody *ngFor="let r of searchResults | filterpipe : filter.name : filter.manufacturer : filter.amount.minimum : filter.amount.maximum : filter.notes; let i = index" class="need-search__results-element">
            <tr>
                <td>{{ consumableCategoryToDE[r.resource.category] }}</td>
                <td>{{ r.resource.amount }} {{ unitTo[r.resource.unit] }}</td>
                <td>{{ r.resource.name }}</td>
                <td>{{ r.resource.manufacturer }}</td>
                <td>{{ r.resource.notes }}</td>
            </tr>
            <tr></tr>
        </tbody>
    </table>
</ng-template>



