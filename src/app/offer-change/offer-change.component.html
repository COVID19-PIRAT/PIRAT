<div class="page-head">
  <div class="container">
    <h2 class="page-title" i18n>Angebotsübersicht</h2>
  </div>
</div>

<main class="main-content" *ngIf="data">
  <div class="fullwidth-block">
    <div class="container">

      <div *ngIf="isNew" class="info-box" i18n>
        Das Angebot wurde erfasst. Auf dieser Seite können Sie Ihre Daten einsehen. Eine Bestätigung
        wurde Ihnen auch per Email zugeschickt.
      </div>

      <div class="current-url">
        <div i18n>
          Mit diesem Link kommen Sie auf diese Seite, um Ihr Angebot einsehen zu können. Bitte bewahren Sie ihn auf.
          <br>
          Bitte kontaktieren Sie uns via Email mit Angabe dieses Links, um ihr Angebot zu löschen oder zu bearbeiten.
        </div>
        <div class="form-block__input-field">
          <div class="value-field">{{ currentUrl }}</div>
        </div>
      </div>

      <div class="form-block">
        <h3 class="form-block__headline" i18n="@@contactData">
          Kontaktdaten
        </h3>
        <div class="form-block__input-field">
          <label i18n="@@institution">
            Institution
          </label>
          <input type="text" value="{{ data.provider.institution }}">
          <span class="input-field-focus"></span>
        </div>

        <div class="form-block__input-field">
          <label i18n="@@name">
            Name
          </label>
          <input type="text" value="{{ data.provider.name }}">
          <span class="input-field-focus"></span>
        </div>

        <div class="form-block__input-field">
          <label i18n="@@emailAddress">
            E-Mail Adresse
          </label>
          <input type="text" value="{{ data.provider.mail }}" disabled>
          <span class="input-field-focus"></span>
        </div>

        <div class="form-block__input-field">
          <label i18n="@@phoneNumber">
            Telefonnummer
          </label>
          <input type="text" value="{{ data.provider.phone }}">
          <span class="input-field-focus"></span>
        </div>

        <div class="form-block__input-wrapper">
          <label>
            <span i18n="@@address">Adresse</span>
          </label>
          <div class="form-block__input-field">
            <label i18n="@@street">
              Straße
            </label>
            <input type="text" value="{{ data.provider.address.street }}">
            <span class="input-field-focus"></span>
          </div>
          <div class="form-block__input-field">
            <label i18n="@@streetNumber">
              Hausnummer
            </label>
            <input type="text" value="{{ data.provider.address.streetNumber }}">
            <span class="input-field-focus"></span>
          </div>
          <div class="form-block__input-field">
            <label i18n="@@postalCode">
              PLZ
            </label>
            <input type="text" value="{{ data.provider.address.postalCode }}">
            <span class="input-field-focus"></span>
          </div>
          <div class="form-block__input-field">
            <label i18n="@@city">
              Stadt
            </label>
            <input type="text" value="{{ data.provider.address.city }}">
            <span class="input-field-focus"></span>
          </div>
          <div class="form-block__input-field">
            <label i18n="@@country">
              Land
            </label>
            <input type="text" value="{{ data.provider.address.country }}" disabled>
            <span class="input-field-focus"></span>
          </div>
        </div>
      </div>

      <div *ngFor="let r of data.resources; let gIndex = index">
        <div *ngIf="r.type === 'personnel'" class="form-block">
          <h3 class="form-block__headline" i18n="@@helper">
            Helfer
          </h3>
          <div class="form-block__select">
            <label>
              <span i18n="@@qualification">Qualifikation</span>
            </label>
            <select [(ngModel)]="toP(r).qualification">
              <option *ngFor="let qualification of getEnumValues(PersonnelQualification)" [value]="qualification" [selected]="qualification === personnelQualificationToDE[toP(r).qualification]">
                {{ personnelQualificationToDE[qualification] }}
              </option>
            </select>
          </div>
          <div class="form-block__input-field">
            <label i18n="@@institution">
              Institution
            </label>
            <input type="text" value="{{ toP(r).institution }}">
            <span class="input-field-focus"></span>
          </div>
          <div class="form-block__input-field">
            <label i18n="@@postalCodeOfLocation">
              Postleitzahl des Standortes
            </label>
            <input type="text" value="{{ toP(r).address.postalCode }}">
            <span class="input-field-focus"></span>
          </div>
          <div class="form-block__input-field">
            <label i18n="@@researchGroup">
              Forschungsgruppe
            </label>
            <input type="text" value="{{ toP(r).researchGroup }}">
            <span class="input-field-focus"></span>
          </div>
          <div class="form-block__input-field">
            <label i18n="@@area">
              Bereich
            </label>
            <input type="text" value="{{ personnelAreaToDE[toP(r).area] }}">
            <span class="input-field-focus"></span>
          </div>
          <div class="form-block__boxes">
            <div i18n="@@_questionExperienceWithPCR">Haben Sie Erfahrung in der Durchführung von PCR und Real-Time PCR?</div>
            <label>
              <span i18n="@@yes">Ja</span>
              <input name="experienceWithPCR{{gIndex}}" type="radio" [checked]="toP(r).experienceWithPCR"/>
            </label>
            <label>
              <span i18n="@@no">Nein</span>
              <input name="experienceWithPCR{{gIndex}}" type="radio" [checked]="!toP(r).experienceWithPCR"/>
            </label>
          </div>
          <div class="form-block__input-field">
            <label i18n="@@comments_s1s">
              Anmerkungen (z.B. S1 oder S2-Unterweisung vorhanden, medizinische Qualifikation zur Abstrichentnahme vorhanden)
            </label>
            <textarea>{{ toP(r).notes }}</textarea>
            <span class="input-field-focus"></span>
          </div>
          <div>
            <input type="checkbox" checked disabled>
            <label i18n="@@_declarationVoluntaryWork">
              Hiermit wird bestätigt, dass der Helfer die Tätigkeit ehrenamtlich außerhalb der Arbeitszeiten ausführt.
            </label>
          </div>
        </div>

        <div *ngIf="r.type === 'device'" class="form-block">
          <h3 class="form-block__headline" i18n="@@device">
            Gerät
          </h3>
          <div class="form-block__select">
            <label>
              <span i18n="@@category">Kategorie</span>
            </label>
            <select [(ngModel)]="toD(r).category" disabled>
              <option [value]="toD(r).category" selected>
                {{ deviceCategoryToDE[toD(r).category] }}
              </option>
            </select>

            <!-- Falls die Kategorie auch bearbeitet werden kann -->
            <!--<select [(ngModel)]="toD(r).category">
              <option *ngFor="let category of getEnumValues(DeviceCategory)" [value]="category" [selected]="category === deviceCategoryToDE[toD(r).category]">
                {{ deviceCategoryToDE[category] }}
              </option>
            </select>-->

          </div>
          <div class="form-block__input-field">
            <label i18n="@@exactName">
              Exakte Materialbezeichnung
            </label>
            <input type="text" value="{{ toD(r).name }}">
            <span class="input-field-focus"></span>
          </div>
          <div class="form-block__input-field">
            <label i18n="@@manufacturer">
              Hersteller
            </label>
            <input type="text" value="{{ toD(r).manufacturer }}">
            <span class="input-field-focus"></span>
          </div>
          <div class="form-block__input-field">
            <label i18n="@@orderOrSerialNumber">
              Bestell- oder Seriennummer
            </label>
            <input type="text" value="{{ toD(r).orderNumber }}">
            <span class="input-field-focus"></span>
          </div>
          <div class="form-block__input-field">
            <label i18n="@@postalCodeOfLocation">
              Postleitzahl des Standortes
            </label>
            <input type="text" value="{{ toD(r).address.postalCode }}">
            <span class="input-field-focus"></span>
          </div>
          <div class="form-block__input-field">
            <label i18n="@@amount">
              Menge
            </label>
            <input type="number" value="{{ toD(r).amount }}">
            <span class="input-field-focus"></span>
          </div>
          <div class="form-block__input-field">
            <label i18n="@@comments">
              Anmerkungen
            </label>
            <textarea>{{ toD(r).notes }}</textarea>
            <span class="input-field-focus"></span>
          </div>
        </div>

        <div *ngIf="r.type === 'consumable'" class="form-block">
          <h3 class="form-block__headline" i18n="@@consumable">
            Verbrauchsmaterial
          </h3>
          <div class="form-block__select">
            <label>
              <span i18n="@@category">Kategorie</span>
            </label>
            <select [(ngModel)]="toC(r).category" disabled>
              <option [value]="toC(r).category" selected>
                {{ consumableCategoryTo[toC(r).category] }}
              </option>
            </select>

            <!-- Falls die Kategorie auch bearbeitet werden kann -->
            <!--<select [(ngModel)]="toC(r).category">
              <option *ngFor="let category of getEnumValues(ConsumableCategory)" [value]="category" [selected]="category === consumableCategoryTo[toC(r).category]">
                {{ consumableCategoryTo[category] }}
              </option>
            </select>-->

          </div>
          <div class="form-block__input-field">
            <label i18n="@@exactName">
              Exakte Materialbezeichnung
            </label>
            <input type="text" value="{{ toC(r).name }}">
            <span class="input-field-focus"></span>
          </div>
          <div class="form-block__input-field">
            <label i18n="@@manufacturer">
              Hersteller
            </label>
            <input type="text" value="{{ toC(r).manufacturer }}">
            <span class="input-field-focus"></span>
          </div>
          <div class="form-block__input-field">
            <label i18n="@@orderOrSerialNumber">
              Bestell- oder Seriennummer
            </label>
            <input type="text" value="{{ toC(r).orderNumber }}">
            <span class="input-field-focus"></span>
          </div>
          <div class="form-block__input-field">
            <label i18n="@@postalCodeOfLocation">
              Postleitzahl des Standortes
            </label>
            <input type="text" value="{{ toC(r).address.postalCode }}">
            <span class="input-field-focus"></span>
          </div>
          <div class="form-block__input-field">
            <label i18n="@@amount">
              Menge
            </label>
            <input type="number" value="{{ toC(r).amount }}">
            <span class="input-field-focus"></span>
          </div>
          <div class="form-block__select">
            <select [(ngModel)]="unitTo[toC(r).unit]" disabled>
              <option [value]="unitTo[toC(r).unit]" selected>{{ unitTo[toC(r).unit] }}</option>
            </select>
          </div>
          <div class="form-block__input-field">
            <label i18n="@@comments">
              Anmerkungen
            </label>
            <textarea>{{ toC(r).notes }}</textarea>
            <span class="input-field-focus"></span>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
